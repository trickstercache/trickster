main:
  server_name: trickster-test
backends:
  backend01:
    provider: reverseproxy
    origin_url: https://example.com/
    timeout: 1m0s
    keep_alive_timeout: 2m0s
    max_concurrent_conns: 20
    max_idle_conns: 20
    cache_name: default
    cache_key_prefix: example.com
    chunk_read_concurrency_limit: 16
    chunk_write_concurrency_limit: 16
    healthcheck: {}
    timeseries_retention_factor: 1024
    timeseries_eviction_method: oldest
    negative_cache_name: default
    timeseries_ttl: 6h0m0s
    fastforward_ttl: 15s
    max_ttl: 25h0m0s
    revalidation_factor: 2
    max_object_size_bytes: 524288
    compressible_types:
    - text/html
    - text/javascript
    - text/css
    - text/plain
    - text/xml
    - text/json
    - application/json
    - application/javascript
    - application/xml
    tracing_name: default
    tls: {}
    forwarded_headers: standard
    authenticator_name: example_auth_1
    latency_min: 0s
    latency_max: 0s
  backend02:
    provider: reverseproxy
    origin_url: https://example.com/
    timeout: 1m0s
    keep_alive_timeout: 2m0s
    max_concurrent_conns: 20
    max_idle_conns: 20
    cache_name: default
    cache_key_prefix: example.com
    chunk_read_concurrency_limit: 16
    chunk_write_concurrency_limit: 16
    healthcheck: {}
    timeseries_retention_factor: 1024
    timeseries_eviction_method: oldest
    negative_cache_name: default
    timeseries_ttl: 6h0m0s
    fastforward_ttl: 15s
    max_ttl: 25h0m0s
    revalidation_factor: 2
    max_object_size_bytes: 524288
    compressible_types:
    - text/html
    - text/javascript
    - text/css
    - text/plain
    - text/xml
    - text/json
    - application/json
    - application/javascript
    - application/xml
    tracing_name: default
    tls: {}
    forwarded_headers: standard
    authenticator_name: example_auth_2
    latency_min: 0s
    latency_max: 0s
  backend03:
    provider: reverseproxy
    origin_url: https://example.com/
    timeout: 1m0s
    keep_alive_timeout: 2m0s
    max_concurrent_conns: 20
    max_idle_conns: 20
    cache_name: default
    cache_key_prefix: example.com
    chunk_read_concurrency_limit: 16
    chunk_write_concurrency_limit: 16
    healthcheck: {}
    timeseries_retention_factor: 1024
    timeseries_eviction_method: oldest
    negative_cache_name: default
    timeseries_ttl: 6h0m0s
    fastforward_ttl: 15s
    max_ttl: 25h0m0s
    revalidation_factor: 2
    max_object_size_bytes: 524288
    compressible_types:
    - text/html
    - text/javascript
    - text/css
    - text/plain
    - text/xml
    - text/json
    - application/json
    - application/javascript
    - application/xml
    tracing_name: default
    tls: {}
    forwarded_headers: standard
    authenticator_name: example_auth_3
    latency_min: 0s
    latency_max: 0s
  default:
    timeout: 1m0s
    keep_alive_timeout: 2m0s
    max_concurrent_conns: 20
    max_idle_conns: 20
    cache_name: default
    chunk_read_concurrency_limit: 16
    chunk_write_concurrency_limit: 16
    healthcheck: {}
    timeseries_retention_factor: 1024
    timeseries_eviction_method: oldest
    negative_cache_name: default
    timeseries_ttl: 6h0m0s
    fastforward_ttl: 15s
    max_ttl: 25h0m0s
    revalidation_factor: 2
    max_object_size_bytes: 524288
    compressible_types:
    - text/html
    - text/javascript
    - text/css
    - text/plain
    - text/xml
    - text/json
    - application/json
    - application/javascript
    - application/xml
    tracing_name: default
    tls: {}
    forwarded_headers: standard
    latency_min: 0s
    latency_max: 0s
caches:
  default:
    provider: memory
    index:
      reap_interval: 3s
      flush_interval: 5s
      index_expiry: 8760h0m0s
      max_size_bytes: 536870912
      max_size_backoff_bytes: 16777216
      max_size_backoff_objects: 100
    redis:
      client_type: standard
      protocol: tcp
      endpoint: redis:6379
      endpoints:
      - redis:6379
    filesystem:
      cache_path: /tmp/trickster
    bbolt:
      filename: trickster.db
      bucket: trickster
    badger:
      directory: /tmp/trickster
      value_directory: /tmp/trickster
    timeseries_chunk_factor: 420
    byterange_chunk_size: 4096
frontend:
  listen_port: 8480
  tls_listen_port: 8483
  max_request_body_size_bytes: 10485760
  truncate_request_body_too_large: false
  read_header_timeout: 10s
logging:
  log_level: INFO
metrics:
  listen_port: 8481
tracing:
  default:
    provider: none
    service_name: trickster
    stdout: {}
negative_caches:
  default: {}
mgmt:
  listen_address: 127.0.0.1
  listen_port: 8484
  config_handler_path: /trickster/config
  ping_handler_path: /trickster/ping
  health_handler_path: /trickster/health
  purge_by_key_path: /trickster/purge/key/
  purge_by_path_path: /trickster/purge/path/
  pprof_server: both
  handler_path: /trickster/config/reload
  drain_timeout: 30s
  rate_limit: 3s
authenticators:
  example_auth_1:
    provider: basic
    observe_only: false
    proxy_preserve: true
    users_file: /path/to/user-manifest.csv
    users_file_format: csv
    users:
      user1: red123
      user2: ${USER2_PASS}
    config:
      realm: custom-realm-name
      showLoginForm: true
  example_auth_2:
    provider: basic
    observe_only: false
    proxy_preserve: false
    users_file: /path/to/user-manifest.htpasswd
    users_file_format: htpasswd
    config: {}
  example_auth_3:
    provider: basic
    observe_only: false
    proxy_preserve: false
    users_file: ""
    users_file_format: ""
    users:
      user1: $2y$asf;j2ihj0h8vabjkwdqbv29hq
    config: {}
